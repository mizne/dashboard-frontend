<div class="magpie-helper-container">
  <nz-card nzTitle="连接钱包">
    <nz-form-item>
      <nz-form-label nzFor="status">网络</nz-form-label>
      <nz-form-control>
        <nz-radio-group [formControl]="networkCtrl" nzButtonStyle="solid">
          <label
            nz-radio-button
            *ngFor="let chain of chains"
            [nzValue]="chain"
            >{{ chain }}</label
          >
        </nz-radio-group>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item class="register-area">
      <nz-form-control>
        <button
          nz-button
          [nzType]="'primary'"
          *ngFor="let wallet of wallets"
          (click)="connectWallet(wallet.name)"
          [nzLoading]="wallet.loading$ | async"
          style="margin-right: 12px"
        >
          连接 {{ wallet.name }}
        </button>
      </nz-form-control>
    </nz-form-item>

    <div *ngIf="walletService.address">
      <p>已连接: {{ walletService.address }}</p>
      <p>钱包类型: {{ walletService.connectedWallet }}</p>
      <button nz-button (click)="disconnectWallet()">断开连接</button>
    </div>
  </nz-card>

  <nz-card nzTitle="mWom Deposit" style="margin-top: 24px">
    <nz-form-item style="width: 600px; display: flex; align-items: center">
      <nz-form-label nzFor="deposit-amount">充值数量</nz-form-label>
      <nz-form-control>
        <nz-input-group [nzAddOnAfter]="addOnAfterTemplateDeposit">
          <input
            type="text"
            nz-input
            class="ant-input"
            placeholder="请输入充值数量"
            [formControl]="depositAmountCtrl"
            [attr.id]="'deposit-amount'"
          />
        </nz-input-group>

        <ng-template #addOnAfterTemplateDeposit>
          <button
            nz-button
            nzSize="small"
            nzType="default"
            (click)="applyMaxAmountDeposit()"
          >
            MAX
          </button>
        </ng-template>
      </nz-form-control>
      <nz-spin [nzSpinning]="mWomTokenBalanceLoading">
        <span style="margin-left: 8px; width: 100px">{{
          mWomTokenBalance
        }}</span>
      </nz-spin>
    </nz-form-item>

    <nz-form-item>
      <nz-form-control>
        <button
          nz-button
          [nzType]="'primary'"
          [nzLoading]="depositLoading"
          (click)="depositMWOM()"
        >
          充值
        </button>
      </nz-form-control>
    </nz-form-item>
  </nz-card>

  <nz-card nzTitle="mWom Withdraw" style="margin-top: 24px">
    <nz-form-item style="width: 600px; display: flex; align-items: center">
      <nz-form-label nzFor="amount">提取数量</nz-form-label>
      <nz-form-control>
        <nz-input-group [nzAddOnAfter]="addOnAfterTemplateWithdraw">
          <input
            type="text"
            nz-input
            class="ant-input"
            placeholder="请输入提取数量"
            [formControl]="withdrawAmountCtrl"
            [attr.id]="'amount'"
          />
        </nz-input-group>

        <ng-template #addOnAfterTemplateWithdraw>
          <button
            nz-button
            nzSize="small"
            nzType="default"
            (click)="applyMaxAmountWithdraw()"
          >
            MAX
          </button>
        </ng-template>
      </nz-form-control>
      <nz-spin [nzSpinning]="mWomStakedAmountLoading">
        <span style="margin-left: 8px; width: 100px">{{
          mWomStakedAmount
        }}</span>
      </nz-spin>
    </nz-form-item>

    <nz-form-item>
      <nz-form-control>
        <button
          nz-button
          [nzType]="'primary'"
          [nzLoading]="withdrawLoading"
          (click)="withdrawMWOM()"
        >
          提取
        </button>
      </nz-form-control>
    </nz-form-item>
  </nz-card>
</div>
